(self.webpackChunkrh_template_umi=self.webpackChunkrh_template_umi||[]).push([[600],{23314:function(ne,O,e){"use strict";var w=e(68699),v=e(52663),q=e(3911),M=e(94043),W=e.n(M),z=e(76570),B=e(57499),ee=e(83494),Z=e(46128),K=e(61547),te=e(62925),V=e(67973),ae=e(31908),N=e(48148),G=e(78199),f=e(67294),x=e(85893),Q=function(P){var R=P.columns,r=R===void 0?[]:R,D=P.search,A=P.request,U=A===void 0?function(){return Promise.resolve({})}:A,$=P.debounceTime,H=$===void 0?500:$,Y=(0,q.Z)(P,["columns","search","request","debounceTime"]),L=(0,f.useRef)(),S=(0,f.useRef)(),J=(0,f.useRef)(),T=P.actionRef||J,_=(0,f.useRef)(),l=(0,G.Z)(function(){var t;return(t=T.current)===null||t===void 0?void 0:t.reload(!0)},{wait:H}),s=l.run,m=(0,f.useMemo)(function(){var t=D?D.filterType:"query";return r.map(function(a){var n=a.search,o=a.hideInSearch,u=a.valueType,d=u===void 0?"text":u,c=a.valueEnum,p=a.title,h=a.filterType,I=h===void 0?t:h,E=a.fieldProps,C=E===void 0?{}:E,X=a.formItemProps,y=X===void 0?{}:X;return n===!1||o===!0||d==="option"?!1:(0,v.Z)((0,v.Z)({},a),{},{filterType:I,valueType:c?"select":d,fieldProps:(0,v.Z)((0,v.Z)({},C),{},{size:C.size||"large",suffix:(0,x.jsx)(z.Z,{"data-inspector-line":"108","data-inspector-column":"14","data-inspector-relative-path":"src/components/RhTable/index.tsx",onClick:function(){var j;(j=_.current)===null||j===void 0||j.call(_),s()},style:{cursor:"pointer",fontSize:22,color:"#9EA5B2"}}),placeholder:C.placeholder||(["date","dateTime","dateWeek","dateMonth","dateQuarter","dateYear","dateRange","dateTimeRange","time","timeRange","select","color"].includes(d)?"\u8BF7\u9009\u62E9".concat(p):"\u8BF7\u8F93\u5165".concat(p)),onKeyPress:function(j){if(j.key==="Enter"){var k;(k=_.current)===null||k===void 0||k.call(_),s()}}}),formItemProps:(0,v.Z)((0,v.Z)({},y),{},{label:""})})}).filter(Boolean)},[r,s,D]),i=(0,f.useMemo)(function(){return m.filter(function(t){return t.filterType==="query"}).sort(function(t,a){return(t==null?void 0:t.order)-(a==null?void 0:a.order)})},[m]),F=(0,f.useMemo)(function(){return m.filter(function(t){return t.filterType==="light"}).sort(function(t,a){return(t==null?void 0:t.order)-(a==null?void 0:a.order)})},[m]),g=(0,f.useCallback)(function(t){var a=t.valueType,n=t.dataIndex,o=t.title,u=t.valueEnum,d=t.fieldProps,c=d===void 0?{size:"large"}:d;return a==="digit"?(0,x.jsx)(B.Z,{"data-inspector-line":"175","data-inspector-column":"8","data-inspector-relative-path":"src/components/RhTable/index.tsx",name:n,label:o,fieldProps:c},n):a==="date"?(0,x.jsx)(ee.Z,{"data-inspector-line":"186","data-inspector-column":"8","data-inspector-relative-path":"src/components/RhTable/index.tsx",name:n,label:o,fieldProps:c},n):a==="dateRange"||a==="dateTime"?(0,x.jsx)(Z.Z,{"data-inspector-line":"197","data-inspector-column":"8","data-inspector-relative-path":"src/components/RhTable/index.tsx",name:n,label:o,fieldProps:c},n):a==="select"||u?(0,x.jsx)(K.Z,{"data-inspector-line":"208","data-inspector-column":"8","data-inspector-relative-path":"src/components/RhTable/index.tsx",name:n,label:o,valueEnum:u,fieldProps:c},n):a==="text"||!a?(0,x.jsx)(te.Z,{"data-inspector-line":"220","data-inspector-column":"8","data-inspector-relative-path":"src/components/RhTable/index.tsx",name:n,label:o,fieldProps:(0,v.Z)({},c),footerRender:function(h){return _.current=h,(0,x.jsx)(x.Fragment,{})}},n):null},[]),b=(0,f.useCallback)(function(){var t=(0,w.Z)(W().mark(function a(n,o){var u,d,c,p,h;return W().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return c=((u=L.current)===null||u===void 0?void 0:u.getFieldsValue())||{},p=((d=S.current)===null||d===void 0?void 0:d.getFieldsValue())||{},h=(0,v.Z)((0,v.Z)({},c),p),T!=null&&T.current&&(T.current.pageInfo.params=h),E.next=6,U((0,v.Z)((0,v.Z)({},n),h),o,h);case 6:return E.abrupt("return",E.sent);case 7:case"end":return E.stop()}},a)}));return function(a,n){return t.apply(this,arguments)}}(),[T,U]);return(0,x.jsxs)("div",{"data-inspector-line":"253","data-inspector-column":"4","data-inspector-relative-path":"src/components/RhTable/index.tsx",className:"rh-table",children:[i.length>0&&(0,x.jsx)(V.Z,{"data-inspector-line":"255","data-inspector-column":"8","data-inspector-relative-path":"src/components/RhTable/index.tsx",className:"rh-table-query-filter-form",layoutType:"QueryFilter",span:4,submitter:!1,formRef:L,columns:i,onValuesChange:s}),F.length>0&&(0,x.jsx)(ae.Z,{"data-inspector-line":"267","data-inspector-column":"8","data-inspector-relative-path":"src/components/RhTable/index.tsx",className:"rh-table-light-filter-form",formRef:S,onFinish:s,children:F.map(function(t){return g(t)})}),(0,x.jsx)(N.ZP,(0,v.Z)((0,v.Z)({"data-inspector-line":"278","data-inspector-column":"6","data-inspector-relative-path":"src/components/RhTable/index.tsx"},Y),{},{actionRef:T,columns:r,search:!1,toolBarRender:!1,request:b}))]})};O.Z=Q},49109:function(ne,O,e){"use strict";e.r(O),e.d(O,{default:function(){return T}});var w=e(19597),v=e(2291),q=e(37482),M=e(3810),W=e(14643),z=e(92909),B=e(68699),ee=e(13753),Z=e(48429),K=e(44742),te=e(25324),V=e(45733),ae=e(14943),N=e(74356),G=e(94043),f=e.n(G),x=e(67604),Q=e(66498),re=e(22027),P=e(38584),R=e(67294),r=e(85893),D=function(l){var s=l.visible,m=s===void 0?!1:s,i=l.title,F=i===void 0?"":i,g=l.width,b=g===void 0?600:g,t=l.downloadUrl,a=t===void 0?"":t,n=l.onCancel,o=n===void 0?function(){}:n,u=l.onOk,d=u===void 0?function(){}:u,c=l.onFinish,p=c===void 0?function(){return Promise.resolve()}:c;return(0,r.jsxs)(re.Z,{"data-inspector-line":"29","data-inspector-column":"4","data-inspector-relative-path":"src/components/FileImportModal/index.tsx",title:F,visible:m,width:b,modalProps:{maskClosable:!1,onCancel:o,onOk:d},onFinish:p,children:[(0,r.jsx)(Q.Z.Item,{"data-inspector-line":"40","data-inspector-column":"6","data-inspector-relative-path":"src/components/FileImportModal/index.tsx",children:(0,r.jsx)("a",{"data-inspector-line":"41","data-inspector-column":"8","data-inspector-relative-path":"src/components/FileImportModal/index.tsx",href:a,target:"_blank",rel:"noopener noreferrer",children:"\u70B9\u51FB\u4E0B\u8F7D\u6A21\u677F"})}),(0,r.jsx)(P.Z,{"data-inspector-line":"45","data-inspector-column":"6","data-inspector-relative-path":"src/components/FileImportModal/index.tsx",accept:".xlsx,.xls",label:"",name:"file",title:"\u4E0A\u4F20\u6587\u4EF6",max:1,rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u6587\u4EF6"}],fieldProps:{beforeUpload:function(){return!1}}}),(0,r.jsx)("p",{"data-inspector-line":"56","data-inspector-column":"6","data-inspector-relative-path":"src/components/FileImportModal/index.tsx",className:"ant-form-item-extra",children:"\u8BF7\u6309\u7167\u6A21\u677F\u683C\u5F0F\u8FDB\u884C\u5F55\u5165\uFF0C\u652F\u6301xlsx\u683C\u5F0F"})]})},A=D,U=e(23314),$=e(57254),H=e(79416),Y=e(35713),L=e(27052),S=e(2138),J=[{dataIndex:"index",width:48,hideInSearch:!0},{title:"\u6807\u9898",dataIndex:"title",copyable:!0,ellipsis:!0,filterType:"query",tip:"\u6807\u9898\u8FC7\u957F\u4F1A\u81EA\u52A8\u6536\u7F29"},{title:"\u72B6\u6001",dataIndex:"state",filters:!0,filterType:"query",onFilter:!0,valueType:"select",width:180,order:99,valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success",disabled:!0},processing:{text:"\u89E3\u51B3\u4E2D",status:"Processing"}}},{title:"\u6807\u7B7E",dataIndex:"labels",filterType:"light",renderFormItem:function(l,s){var m=s.defaultRender;return m(l)},render:function(l,s){return(0,r.jsx)(V.Z,{"data-inspector-line":"76","data-inspector-column":"6","data-inspector-relative-path":"src/pages/table/complex.tsx",children:s.labels.map(function(m){var i=m.name,F=m.color;return(0,r.jsx)(N.Z,{"data-inspector-line":"78","data-inspector-column":"10","data-inspector-relative-path":"src/pages/table/complex.tsx",color:F,children:i},i)})})}},{title:"\u521B\u5EFA\u65F6\u95F4",key:"showTime",filterType:"light",dataIndex:"created_at",valueType:"dateTime",sorter:!0},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"created_at",valueType:"dateRange",hideInTable:!0,hideInSearch:!0,search:{transform:function(l){return{startTime:l[0],endTime:l[1]}}}},{title:"\u64CD\u4F5C",valueType:"option",render:function(l,s,m,i){return[(0,r.jsx)("a",{"data-inspector-line":"112","data-inspector-column":"6","data-inspector-relative-path":"src/pages/table/complex.tsx",onClick:function(){var g;i==null||(g=i.startEditable)===null||g===void 0||g.call(i,s.id)},children:"\u7F16\u8F91"},"editable"),(0,r.jsx)("a",{"data-inspector-line":"120","data-inspector-column":"6","data-inspector-relative-path":"src/pages/table/complex.tsx",href:s.url,target:"_blank",rel:"noopener noreferrer",children:"\u67E5\u770B"},"view"),(0,r.jsx)(Y.Z,{"data-inspector-line":"123","data-inspector-column":"6","data-inspector-relative-path":"src/pages/table/complex.tsx",onSelect:function(){return i==null?void 0:i.reload()},menus:[{key:"copy",name:"\u590D\u5236"},{key:"delete",name:"\u5220\u9664"}]},"actionGroup")]}}],T=function(_){var l=(0,R.useState)([]),s=(0,K.Z)(l,2),m=s[0],i=s[1],F=(0,R.useState)(!1),g=(0,K.Z)(F,2),b=g[0],t=g[1],a=R.useRef(),n=(0,R.useRef)({});return(0,r.jsxs)(H.ZP,{"data-inspector-line":"147","data-inspector-column":"4","data-inspector-relative-path":"src/pages/table/complex.tsx",fixedHeader:!0,affixProps:{offsetTop:48,children:null},header:{title:_.route.name,breadcrumb:{},extra:[(0,r.jsx)(Z.Z,{"data-inspector-line":"154","data-inspector-column":"10","data-inspector-relative-path":"src/pages/table/complex.tsx",type:"primary",onClick:function(){L.m8.push("/form/basic")},children:"\u65B0\u5EFA"},"createBtn"),(0,r.jsx)(Z.Z,{"data-inspector-line":"163","data-inspector-column":"10","data-inspector-relative-path":"src/pages/table/complex.tsx",type:"default",onClick:function(){t(!0)},children:"\u6279\u91CF\u5BFC\u5165"},"importBtn"),(0,r.jsx)(v.Z,{"data-inspector-line":"172","data-inspector-column":"10","data-inspector-relative-path":"src/pages/table/complex.tsx",overlay:(0,r.jsxs)(M.Z,{"data-inspector-line":"175","data-inspector-column":"14","data-inspector-relative-path":"src/pages/table/complex.tsx",onClick:function(){var o=(0,B.Z)(f().mark(function u(d){var c,p,h,I,E,C;return f().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(c=d.key,c!=="selected"){y.next=8;break}if(m.length!==0){y.next=5;break}return z.default.error("\u8BF7\u5148\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E"),y.abrupt("return");case 5:n.current={idList:m},y.next=9;break;case 8:c==="params"&&(I=((p=a.current)===null||p===void 0||(h=p.pageInfo)===null||h===void 0?void 0:h.params)||{},E=I.status,C=I.searchKey,n.current={idList:[],status:E,searchKey:C});case 9:case"end":return y.stop()}},u)}));return function(u){return o.apply(this,arguments)}}(),children:[(0,r.jsx)(M.Z.Item,{"data-inspector-line":"197","data-inspector-column":"16","data-inspector-relative-path":"src/pages/table/complex.tsx",children:"\u5F53\u524D\u9009\u4E2D\u6570\u636E"},"selected"),(0,r.jsx)(M.Z.Item,{"data-inspector-line":"198","data-inspector-column":"16","data-inspector-relative-path":"src/pages/table/complex.tsx",children:"\u5F53\u524D\u67E5\u8BE2\u6761\u4EF6\u5168\u90E8\u6570\u636E"},"params")]}),children:(0,r.jsxs)(Z.Z,{"data-inspector-line":"202","data-inspector-column":"12","data-inspector-relative-path":"src/pages/table/complex.tsx",type:"default",children:["\u5BFC\u51FA\u6570\u636E ",(0,r.jsx)($.Z,{"data-inspector-line":"203","data-inspector-column":"19","data-inspector-relative-path":"src/pages/table/complex.tsx"})]})},"downloadBtn")]},children:[(0,r.jsx)(U.Z,{"data-inspector-line":"209","data-inspector-column":"6","data-inspector-relative-path":"src/pages/table/complex.tsx",columns:J,actionRef:a,request:(0,B.Z)(f().mark(function o(){var u,d=arguments;return f().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return u=d.length>0&&d[0]!==void 0?d[0]:{},p.abrupt("return",(0,S.ZP)("https://proapi.azurewebsites.net/github/issues",{params:u}));case 2:case"end":return p.stop()}},o)})),rowSelection:{selectedRowKeys:m,onChange:i},rowKey:"id",pagination:{pageSize:10},dateFormatter:"string"}),b&&(0,r.jsx)(A,{"data-inspector-line":"231","data-inspector-column":"8","data-inspector-relative-path":"src/pages/table/complex.tsx",title:"\u5BFC\u5165SP\u6570\u636E",visible:b,downloadUrl:"https://github.com/RootLinkFE/rh-template-react-umi.git",onCancel:function(){t(!1)},onFinish:function(){return Promise.resolve(!0)}})]})}}}]);
