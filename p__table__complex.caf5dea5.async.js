(self.webpackChunkrh_template_react_umi=self.webpackChunkrh_template_react_umi||[]).push([[600],{32070:function(){},23314:function(le,K,r){"use strict";var X=r(68699),h=r(52663),w=r(3911),_=r(94043),D=r.n(_),q=r(76570),A=r(57499),ee=r(83494),C=r(46128),N=r(61547),te=r(62925),z=r(30199),re=r(31908),k=r(61169),G=r(78199),y=r(67294),g=r(85893),S=function(R){var O=R.columns,c=O===void 0?[]:O,j=R.search,I=R.request,W=I===void 0?function(){return Promise.resolve({})}:I,V=R.debounceTime,Q=V===void 0?500:V,M=(0,w.Z)(R,["columns","search","request","debounceTime"]),L=(0,y.useRef)(),$=(0,y.useRef)(),H=(0,y.useRef)(),E=R.actionRef||H,b=(0,y.useRef)(),Y=(0,G.Z)(function(){var t;return(t=E.current)===null||t===void 0?void 0:t.reload(!0)},{wait:Q}),i=Y.run,Z=(0,y.useMemo)(function(){var t=j?j.filterType:"query";return c.map(function(e){var a=e.search,u=e.hideInSearch,d=e.valueType,p=d===void 0?"text":d,m=e.valueEnum,f=e.title,s=e.filterType,v=s===void 0?t:s,x=e.fieldProps,T=x===void 0?{}:x,F=e.formItemProps,ne=F===void 0?{}:F;return a===!1||u===!0||p==="option"?!1:(0,h.Z)((0,h.Z)({},e),{},{filterType:v,valueType:m?"select":p,fieldProps:(0,h.Z)((0,h.Z)({},T),{},{size:T.size||"large",suffix:(0,g.jsx)(q.Z,{"data-inspector-line":"108","data-inspector-column":"14","data-inspector-relative-path":"src/components/RhTable/index.tsx",onClick:function(){var B;(B=b.current)===null||B===void 0||B.call(b),i()},style:{cursor:"pointer",fontSize:22,color:"#9EA5B2"}}),placeholder:T.placeholder||(["date","dateTime","dateWeek","dateMonth","dateQuarter","dateYear","dateRange","dateTimeRange","time","timeRange","select","color"].includes(p)?"\u8BF7\u9009\u62E9".concat(f):"\u8BF7\u8F93\u5165".concat(f)),onKeyPress:function(B){if(B.key==="Enter"){var J;(J=b.current)===null||J===void 0||J.call(b),i()}}}),formItemProps:(0,h.Z)((0,h.Z)({},ne),{},{label:""})})}).filter(Boolean)},[c,i,j]),U=(0,y.useMemo)(function(){return Z.filter(function(t){return t.filterType==="query"}).sort(function(t,e){return(t==null?void 0:t.order)-(e==null?void 0:e.order)})},[Z]),o=(0,y.useMemo)(function(){return Z.filter(function(t){return t.filterType==="light"}).sort(function(t,e){return(t==null?void 0:t.order)-(e==null?void 0:e.order)})},[Z]),n=(0,y.useCallback)(function(t){var e=t.valueType,a=t.dataIndex,u=t.title,d=t.valueEnum,p=t.fieldProps,m=p===void 0?{size:"large"}:p;return e==="digit"?(0,g.jsx)(A.Z,{"data-inspector-line":"175","data-inspector-column":"8","data-inspector-relative-path":"src/components/RhTable/index.tsx",name:a,label:u,fieldProps:m},a):e==="date"?(0,g.jsx)(ee.Z,{"data-inspector-line":"186","data-inspector-column":"8","data-inspector-relative-path":"src/components/RhTable/index.tsx",name:a,label:u,fieldProps:m},a):e==="dateRange"||e==="dateTime"?(0,g.jsx)(C.Z,{"data-inspector-line":"197","data-inspector-column":"8","data-inspector-relative-path":"src/components/RhTable/index.tsx",name:a,label:u,fieldProps:m},a):e==="select"||d?(0,g.jsx)(N.Z,{"data-inspector-line":"208","data-inspector-column":"8","data-inspector-relative-path":"src/components/RhTable/index.tsx",name:a,label:u,valueEnum:d,fieldProps:m},a):e==="text"||!e?(0,g.jsx)(te.Z,{"data-inspector-line":"220","data-inspector-column":"8","data-inspector-relative-path":"src/components/RhTable/index.tsx",name:a,label:u,fieldProps:(0,h.Z)({},m),footerRender:function(s){return b.current=s,(0,g.jsx)(g.Fragment,{})}},a):null},[]),l=(0,y.useCallback)(function(){var t=(0,X.Z)(D().mark(function e(a,u){var d,p,m,f,s;return D().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return m=((d=L.current)===null||d===void 0?void 0:d.getFieldsValue())||{},f=((p=$.current)===null||p===void 0?void 0:p.getFieldsValue())||{},s=(0,h.Z)((0,h.Z)({},m),f),E!=null&&E.current&&(E.current.pageInfo.params=s),x.next=6,W((0,h.Z)((0,h.Z)({},a),s),u,s);case 6:return x.abrupt("return",x.sent);case 7:case"end":return x.stop()}},e)}));return function(e,a){return t.apply(this,arguments)}}(),[E,W]);return(0,g.jsxs)("div",{"data-inspector-line":"253","data-inspector-column":"4","data-inspector-relative-path":"src/components/RhTable/index.tsx",className:"rh-table",children:[U.length>0&&(0,g.jsx)(z.Z,{"data-inspector-line":"255","data-inspector-column":"8","data-inspector-relative-path":"src/components/RhTable/index.tsx",className:"rh-table-query-filter-form",layoutType:"QueryFilter",span:4,submitter:!1,formRef:L,columns:U,onValuesChange:i}),o.length>0&&(0,g.jsx)(re.Z,{"data-inspector-line":"267","data-inspector-column":"8","data-inspector-relative-path":"src/components/RhTable/index.tsx",className:"rh-table-light-filter-form",formRef:$,onFinish:i,children:o.map(function(t){return n(t)})}),(0,g.jsx)(k.ZP,(0,h.Z)((0,h.Z)({"data-inspector-line":"278","data-inspector-column":"6","data-inspector-relative-path":"src/components/RhTable/index.tsx"},M),{},{actionRef:E,columns:c,search:!1,toolBarRender:!1,request:l}))]})};K.Z=S},32275:function(le,K,r){"use strict";r.r(K),r.d(K,{default:function(){return U}});var X=r(19597),h=r(2291),w=r(37482),_=r(3810),D=r(68699),q=r(14643),A=r(92909),ee=r(13753),C=r(48429),N=r(44742),te=r(25324),z=r(45733),re=r(14943),k=r(74356),G=r(94043),y=r.n(G),g=r(23314),S=r(57254),ae=r(79416),R=r(35635),O=r(37358),c=r(67294),j=r(35510),I=r.n(j),W=r(44545),V=r(32070),Q=["key","name"];function M(){return M=Object.assign||function(o){for(var n=1;n<arguments.length;n++){var l=arguments[n];for(var t in l)Object.prototype.hasOwnProperty.call(l,t)&&(o[t]=l[t])}return o},M.apply(this,arguments)}function L(o,n){if(o==null)return{};var l=$(o,n),t,e;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(o);for(e=0;e<a.length;e++)t=a[e],!(n.indexOf(t)>=0)&&(!Object.prototype.propertyIsEnumerable.call(o,t)||(l[t]=o[t]))}return l}function $(o,n){if(o==null)return{};var l={},t=Object.keys(o),e,a;for(a=0;a<t.length;a++)e=t[a],!(n.indexOf(e)>=0)&&(l[e]=o[e]);return l}var H=function(n){var l=n.children,t=n.menus,e=n.onSelect,a=n.className,u=n.style,d=(0,c.useContext)(O.ZP.ConfigContext),p=d.getPrefixCls,m=p("pro-table-dropdown"),f=c.createElement(_.Z,{onClick:function(v){return e&&e(v.key)}},t==null?void 0:t.map(function(s){return c.createElement(_.Z.Item,{key:s.key},s.name)}));return c.createElement(h.Z,{overlay:f,className:I()(m,a)},c.createElement(C.Z,{style:u},l," ",c.createElement(S.Z,null)))},E=function(n){var l=n.className,t=n.style,e=n.onSelect,a=n.menus,u=a===void 0?[]:a,d=(0,c.useContext)(O.ZP.ConfigContext),p=d.getPrefixCls,m=p("pro-table-dropdown"),f=c.createElement(_.Z,{onClick:function(v){return e&&e(v.key)}},u.map(function(s){var v=s.key,x=s.name,T=L(s,Q);return c.createElement(_.Z.Item,M({key:v},T),x)}));return c.createElement(h.Z,{overlay:f,className:I()(m,l)},c.createElement("a",{style:t},c.createElement(W.Z,null)))};E.Button=H;var b=E,Y=r(56118),i=r(85893),Z=[{dataIndex:"index",width:48,hideInSearch:!0},{title:"\u6807\u9898",dataIndex:"title",copyable:!0,ellipsis:!0,filterType:"query",tip:"\u6807\u9898\u8FC7\u957F\u4F1A\u81EA\u52A8\u6536\u7F29"},{title:"\u72B6\u6001",dataIndex:"state",filters:!0,filterType:"query",onFilter:!0,valueType:"select",width:180,order:99,valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success",disabled:!0},processing:{text:"\u89E3\u51B3\u4E2D",status:"Processing"}}},{title:"\u6807\u7B7E",dataIndex:"labels",filterType:"light",renderFormItem:function(n,l){var t=l.defaultRender;return t(n)},render:function(n,l){return(0,i.jsx)(z.Z,{"data-inspector-line":"74","data-inspector-column":"6","data-inspector-relative-path":"src/pages/table/complex.tsx",children:l.labels.map(function(t){var e=t.name,a=t.color;return(0,i.jsx)(k.Z,{"data-inspector-line":"76","data-inspector-column":"10","data-inspector-relative-path":"src/pages/table/complex.tsx",color:a,children:e},e)})})}},{title:"\u521B\u5EFA\u65F6\u95F4",key:"showTime",filterType:"light",dataIndex:"created_at",valueType:"dateTime",sorter:!0},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"created_at",valueType:"dateRange",hideInTable:!0,hideInSearch:!0,search:{transform:function(n){return{startTime:n[0],endTime:n[1]}}}},{title:"\u64CD\u4F5C",valueType:"option",render:function(n,l,t,e){return[(0,i.jsx)("a",{"data-inspector-line":"110","data-inspector-column":"6","data-inspector-relative-path":"src/pages/table/complex.tsx",onClick:function(){var u;e==null||(u=e.startEditable)===null||u===void 0||u.call(e,l.id)},children:"\u7F16\u8F91"},"editable"),(0,i.jsx)("a",{"data-inspector-line":"118","data-inspector-column":"6","data-inspector-relative-path":"src/pages/table/complex.tsx",href:l.url,target:"_blank",rel:"noopener noreferrer",children:"\u67E5\u770B"},"view"),(0,i.jsx)(b,{"data-inspector-line":"121","data-inspector-column":"6","data-inspector-relative-path":"src/pages/table/complex.tsx",onSelect:function(){return e==null?void 0:e.reload()},menus:[{key:"copy",name:"\u590D\u5236"},{key:"delete",name:"\u5220\u9664"}]},"actionGroup")]}}],U=function(o){var n=(0,c.useState)([]),l=(0,N.Z)(n,2),t=l[0],e=l[1],a=c.useRef(),u=(0,c.useRef)({});return(0,i.jsx)(ae.ZP,{"data-inspector-line":"145","data-inspector-column":"4","data-inspector-relative-path":"src/pages/table/complex.tsx",fixedHeader:!0,affixProps:{offsetTop:48,children:null},header:{title:o.route.name,breadcrumb:{},extra:[(0,i.jsx)(C.Z,{"data-inspector-line":"152","data-inspector-column":"10","data-inspector-relative-path":"src/pages/table/complex.tsx",type:"primary",onClick:function(){Y.m8.push("/stp/data-dictionary/null")},children:"\u65B0\u5EFA"},"createBtn"),(0,i.jsx)(C.Z,{"data-inspector-line":"161","data-inspector-column":"10","data-inspector-relative-path":"src/pages/table/complex.tsx",type:"default",onClick:function(){A.default.warn("todo")},children:"\u6279\u91CF\u5BFC\u5165"},"importBtn"),(0,i.jsx)(h.Z,{"data-inspector-line":"170","data-inspector-column":"10","data-inspector-relative-path":"src/pages/table/complex.tsx",overlay:(0,i.jsxs)(_.Z,{"data-inspector-line":"173","data-inspector-column":"14","data-inspector-relative-path":"src/pages/table/complex.tsx",onClick:function(){var d=(0,D.Z)(y().mark(function p(m){var f,s,v,x,T,F;return y().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(f=m.key,f!=="selected"){P.next=8;break}if(t.length!==0){P.next=5;break}return A.default.error("\u8BF7\u5148\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E"),P.abrupt("return");case 5:u.current={idList:t},P.next=9;break;case 8:f==="params"&&(x=((s=a.current)===null||s===void 0||(v=s.pageInfo)===null||v===void 0?void 0:v.params)||{},T=x.status,F=x.searchKey,u.current={idList:[],status:T,searchKey:F});case 9:case"end":return P.stop()}},p)}));return function(p){return d.apply(this,arguments)}}(),children:[(0,i.jsx)(_.Z.Item,{"data-inspector-line":"195","data-inspector-column":"16","data-inspector-relative-path":"src/pages/table/complex.tsx",children:"\u5F53\u524D\u9009\u4E2D\u6570\u636E"},"selected"),(0,i.jsx)(_.Z.Item,{"data-inspector-line":"196","data-inspector-column":"16","data-inspector-relative-path":"src/pages/table/complex.tsx",children:"\u5F53\u524D\u67E5\u8BE2\u6761\u4EF6\u5168\u90E8\u6570\u636E"},"params")]}),children:(0,i.jsxs)(C.Z,{"data-inspector-line":"200","data-inspector-column":"12","data-inspector-relative-path":"src/pages/table/complex.tsx",type:"default",children:["\u5BFC\u51FA\u6570\u636E ",(0,i.jsx)(S.Z,{"data-inspector-line":"201","data-inspector-column":"19","data-inspector-relative-path":"src/pages/table/complex.tsx"})]})},"downloadBtn")]},children:(0,i.jsx)(g.Z,{"data-inspector-line":"207","data-inspector-column":"6","data-inspector-relative-path":"src/pages/table/complex.tsx",columns:Z,actionRef:a,request:(0,D.Z)(y().mark(function d(){var p,m,f=arguments;return y().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return p=f.length>0&&f[0]!==void 0?f[0]:{},v.next=3,fetch("https://proapi.azurewebsites.net/github/issues").then(function(x){return x.json()});case 3:return m=v.sent,v.abrupt("return",{data:m.data,success:!0});case 5:case"end":return v.stop()}},d)})),rowSelection:{selectedRowKeys:t,onChange:e},rowKey:"id",pagination:{pageSize:10},dateFormatter:"string"})})}}}]);
