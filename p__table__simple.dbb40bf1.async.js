(self.webpackChunkrh_template_umi=self.webpackChunkrh_template_umi||[]).push([[260],{23314:function(J,x,r){"use strict";var B=r(68699),n=r(52663),D=r(3911),j=r(94043),O=r.n(j),Z=r(76570),v=r(57499),K=r(83494),g=r(46128),y=r(61547),h=r(62925),I=r(67973),_=r(31908),E=r(48148),P=r(78199),a=r(67294),l=r(85893),X=function(p){var U=p.columns,A=U===void 0?[]:U,W=p.search,$=p.request,S=$===void 0?function(){return Promise.resolve({})}:$,z=p.debounceTime,w=z===void 0?500:z,N=p.toolBarRender,q=(0,D.Z)(p,["columns","search","request","debounceTime","toolBarRender"]),k=(0,a.useRef)(),V=(0,a.useRef)(),ee=(0,a.useRef)(),f=p.actionRef||ee,R=(0,a.useRef)(),te=(0,P.Z)(function(){var e;return(e=f.current)===null||e===void 0?void 0:e.reload(!0)},{wait:w}),b=te.run,C=(0,a.useMemo)(function(){var e=W?W.filterType:"query";return A.map(function(t){var o=t.search,u=t.hideInSearch,d=t.valueType,i=d===void 0?"text":d,s=t.valueEnum,T=t.title,c=t.filterType,H=c===void 0?e:c,m=t.fieldProps,F=m===void 0?{}:m,Y=t.formItemProps,ne=Y===void 0?{}:Y;return o===!1||u===!0||i==="option"?!1:(0,n.Z)((0,n.Z)({},t),{},{filterType:H,valueType:s?"select":i,fieldProps:(0,n.Z)((0,n.Z)({},F),{},{size:F.size||"large",suffix:(0,l.jsx)(Z.Z,{"data-inspector-line":"109","data-inspector-column":"14","data-inspector-relative-path":"src/components/RhTable/index.tsx",onClick:function(){var M;(M=R.current)===null||M===void 0||M.call(R),b()},style:{cursor:"pointer",fontSize:22,color:"#9EA5B2"}}),placeholder:F.placeholder||(["date","dateTime","dateWeek","dateMonth","dateQuarter","dateYear","dateRange","dateTimeRange","time","timeRange","select","color"].includes(i)?"\u8BF7\u9009\u62E9".concat(T):"\u8BF7\u8F93\u5165".concat(T)),onKeyPress:function(M){if(M.key==="Enter"){var L;(L=R.current)===null||L===void 0||L.call(R),b()}}}),formItemProps:(0,n.Z)((0,n.Z)({},ne),{},{label:""})})}).filter(Boolean)},[A,b,W]),G=(0,a.useMemo)(function(){return C.filter(function(e){return e.filterType==="query"}).sort(function(e,t){return(e==null?void 0:e.order)-(t==null?void 0:t.order)})},[C]),Q=(0,a.useMemo)(function(){return C.filter(function(e){return e.filterType==="light"}).sort(function(e,t){return(e==null?void 0:e.order)-(t==null?void 0:t.order)})},[C]),re=(0,a.useCallback)(function(e){var t=e.valueType,o=e.dataIndex,u=e.title,d=e.valueEnum,i=e.fieldProps,s=i===void 0?{size:"large"}:i;return t==="digit"?(0,l.jsx)(v.Z,{"data-inspector-line":"176","data-inspector-column":"8","data-inspector-relative-path":"src/components/RhTable/index.tsx",name:o,label:u,fieldProps:s},o):t==="date"?(0,l.jsx)(K.Z,{"data-inspector-line":"187","data-inspector-column":"8","data-inspector-relative-path":"src/components/RhTable/index.tsx",name:o,label:u,fieldProps:s},o):t==="dateRange"?(0,l.jsx)(g.Z,{"data-inspector-line":"198","data-inspector-column":"8","data-inspector-relative-path":"src/components/RhTable/index.tsx",name:o,label:u,fieldProps:s},o):t==="select"||d?(0,l.jsx)(y.Z,{"data-inspector-line":"209","data-inspector-column":"8","data-inspector-relative-path":"src/components/RhTable/index.tsx",name:o,label:u,valueEnum:d,fieldProps:s},o):t==="text"||!t?(0,l.jsx)(h.Z,{"data-inspector-line":"221","data-inspector-column":"8","data-inspector-relative-path":"src/components/RhTable/index.tsx",name:o,label:u,fieldProps:(0,n.Z)({},s),footerRender:function(c){return R.current=c,(0,l.jsx)(l.Fragment,{})}},o):null},[]),ae=(0,a.useCallback)(function(){var e=(0,B.Z)(O().mark(function t(o,u){var d,i,s,T,c;return O().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return s=((d=k.current)===null||d===void 0?void 0:d.getFieldsValue())||{},T=((i=V.current)===null||i===void 0?void 0:i.getFieldsValue())||{},c=(0,n.Z)((0,n.Z)({},s),T),f!=null&&f.current&&(f.current.pageInfo.params=c),m.next=6,S((0,n.Z)((0,n.Z)({},o),c),u,c);case 6:return m.abrupt("return",m.sent);case 7:case"end":return m.stop()}},t)}));return function(t,o){return e.apply(this,arguments)}}(),[f,S]);return(0,l.jsxs)("div",{"data-inspector-line":"254","data-inspector-column":"4","data-inspector-relative-path":"src/components/RhTable/index.tsx",className:"rh-table",children:[G.length>0&&(0,l.jsx)(I.Z,{"data-inspector-line":"257","data-inspector-column":"8","data-inspector-relative-path":"src/components/RhTable/index.tsx",className:"rh-table-query-filter-form",layoutType:"QueryFilter",span:4,submitter:!1,formRef:k,columns:G,onValuesChange:b}),N&&(0,l.jsx)("div",{"data-inspector-line":"269","data-inspector-column":"8","data-inspector-relative-path":"src/components/RhTable/index.tsx",className:"rh-table-toolbar",children:N().map(function(e){return e})}),Q.length>0&&(0,l.jsx)(_.Z,{"data-inspector-line":"275","data-inspector-column":"8","data-inspector-relative-path":"src/components/RhTable/index.tsx",className:"rh-table-light-filter-form",formRef:V,onFinish:b,children:Q.map(function(e){return re(e)})}),(0,l.jsx)(E.ZP,(0,n.Z)((0,n.Z)({"data-inspector-line":"286","data-inspector-column":"6","data-inspector-relative-path":"src/components/RhTable/index.tsx"},q),{},{actionRef:f,columns:A,search:!1,toolBarRender:!1,request:ae}))]})};x.Z=X},32858:function(J,x,r){"use strict";r.r(x);var B=r(68699),n=r(94043),D=r.n(n),j=r(23314),O=r(79416),Z=r(67294),v=r(85893),K=[{title:"\u6807\u9898",dataIndex:"title",ellipsis:!0,filterType:"query",tip:"\u6807\u9898\u8FC7\u957F\u4F1A\u81EA\u52A8\u6536\u7F29"},{title:"\u72B6\u6001",dataIndex:"state",valueType:"select",hideInSearch:!0,valueEnum:{all:"\u5168\u90E8",open:"\u672A\u89E3\u51B3",closed:"\u5DF2\u89E3\u51B3",processing:"\u89E3\u51B3\u4E2D"}},{title:"\u521B\u5EFA\u65F6\u95F4",key:"showTime",filterType:"query",dataIndex:"created_at",valueType:"dateTime",hideInSearch:!0},{title:"\u64CD\u4F5C",valueType:"option",render:function(y,h,I,_){return[(0,v.jsx)("a",{"data-inspector-line":"39","data-inspector-column":"6","data-inspector-relative-path":"src/pages/table/simple.tsx",onClick:function(){var P;_==null||(P=_.startEditable)===null||P===void 0||P.call(_,h.id)},children:"\u7F16\u8F91"},"editable"),(0,v.jsx)("a",{"data-inspector-line":"47","data-inspector-column":"6","data-inspector-relative-path":"src/pages/table/simple.tsx",href:h.url,target:"_blank",rel:"noopener noreferrer",children:"\u67E5\u770B"},"view")]}}];x.default=function(g){var y=Z.useRef();return(0,v.jsx)(O.ZP,{"data-inspector-line":"57","data-inspector-column":"4","data-inspector-relative-path":"src/pages/table/simple.tsx",fixedHeader:!0,affixProps:{offsetTop:48,children:null},header:{title:g.route.name,breadcrumb:{},extra:[]},children:(0,v.jsx)(j.Z,{"data-inspector-line":"66","data-inspector-column":"6","data-inspector-relative-path":"src/pages/table/simple.tsx",rowKey:"id",columns:K,actionRef:y,pagination:{pageSize:10},request:(0,B.Z)(D().mark(function h(){var I,_,E=arguments;return D().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return I=E.length>0&&E[0]!==void 0?E[0]:{},a.next=3,fetch("https://proapi.azurewebsites.net/github/issues").then(function(l){return l.json()});case 3:return _=a.sent,a.abrupt("return",{data:_.data,success:!0});case 5:case"end":return a.stop()}},h)}))})})}}}]);
