(self.webpackChunkrh_template_react_umi=self.webpackChunkrh_template_react_umi||[]).push([[260],{23314:function(Y,D,r){"use strict";var B=r(68699),n=r(52663),x=r(3911),Z=r(94043),O=r.n(Z),j=r(76570),f=r(57499),K=r(83494),g=r(46128),y=r(61547),v=r(62925),I=r(30199),s=r(31908),h=r(61169),E=r(78199),a=r(67294),o=r(85893),J=function(P){var U=P.columns,A=U===void 0?[]:U,W=P.search,$=P.request,S=$===void 0?function(){return Promise.resolve({})}:$,z=P.debounceTime,X=z===void 0?500:z,w=(0,x.Z)(P,["columns","search","request","debounceTime"]),k=(0,a.useRef)(),N=(0,a.useRef)(),q=(0,a.useRef)(),p=P.actionRef||q,R=(0,a.useRef)(),ee=(0,E.Z)(function(){var t;return(t=p.current)===null||t===void 0?void 0:t.reload(!0)},{wait:X}),b=ee.run,C=(0,a.useMemo)(function(){var t=W?W.filterType:"query";return A.map(function(e){var l=e.search,u=e.hideInSearch,d=e.valueType,i=d===void 0?"text":d,_=e.valueEnum,T=e.title,m=e.filterType,Q=m===void 0?t:m,c=e.fieldProps,F=c===void 0?{}:c,H=e.formItemProps,ae=H===void 0?{}:H;return l===!1||u===!0||i==="option"?!1:(0,n.Z)((0,n.Z)({},e),{},{filterType:Q,valueType:_?"select":i,fieldProps:(0,n.Z)((0,n.Z)({},F),{},{size:F.size||"large",suffix:(0,o.jsx)(j.Z,{"data-inspector-line":"108","data-inspector-column":"14","data-inspector-relative-path":"src/components/RhTable/index.tsx",onClick:function(){var M;(M=R.current)===null||M===void 0||M.call(R),b()},style:{cursor:"pointer",fontSize:22,color:"#9EA5B2"}}),placeholder:F.placeholder||(["date","dateTime","dateWeek","dateMonth","dateQuarter","dateYear","dateRange","dateTimeRange","time","timeRange","select","color"].includes(i)?"\u8BF7\u9009\u62E9".concat(T):"\u8BF7\u8F93\u5165".concat(T)),onKeyPress:function(M){if(M.key==="Enter"){var L;(L=R.current)===null||L===void 0||L.call(R),b()}}}),formItemProps:(0,n.Z)((0,n.Z)({},ae),{},{label:""})})}).filter(Boolean)},[A,b,W]),V=(0,a.useMemo)(function(){return C.filter(function(t){return t.filterType==="query"}).sort(function(t,e){return(t==null?void 0:t.order)-(e==null?void 0:e.order)})},[C]),G=(0,a.useMemo)(function(){return C.filter(function(t){return t.filterType==="light"}).sort(function(t,e){return(t==null?void 0:t.order)-(e==null?void 0:e.order)})},[C]),te=(0,a.useCallback)(function(t){var e=t.valueType,l=t.dataIndex,u=t.title,d=t.valueEnum,i=t.fieldProps,_=i===void 0?{size:"large"}:i;return e==="digit"?(0,o.jsx)(f.Z,{"data-inspector-line":"175","data-inspector-column":"8","data-inspector-relative-path":"src/components/RhTable/index.tsx",name:l,label:u,fieldProps:_},l):e==="date"?(0,o.jsx)(K.Z,{"data-inspector-line":"186","data-inspector-column":"8","data-inspector-relative-path":"src/components/RhTable/index.tsx",name:l,label:u,fieldProps:_},l):e==="dateRange"||e==="dateTime"?(0,o.jsx)(g.Z,{"data-inspector-line":"197","data-inspector-column":"8","data-inspector-relative-path":"src/components/RhTable/index.tsx",name:l,label:u,fieldProps:_},l):e==="select"||d?(0,o.jsx)(y.Z,{"data-inspector-line":"208","data-inspector-column":"8","data-inspector-relative-path":"src/components/RhTable/index.tsx",name:l,label:u,valueEnum:d,fieldProps:_},l):e==="text"||!e?(0,o.jsx)(v.Z,{"data-inspector-line":"220","data-inspector-column":"8","data-inspector-relative-path":"src/components/RhTable/index.tsx",name:l,label:u,fieldProps:(0,n.Z)({},_),footerRender:function(m){return R.current=m,(0,o.jsx)(o.Fragment,{})}},l):null},[]),re=(0,a.useCallback)(function(){var t=(0,B.Z)(O().mark(function e(l,u){var d,i,_,T,m;return O().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return _=((d=k.current)===null||d===void 0?void 0:d.getFieldsValue())||{},T=((i=N.current)===null||i===void 0?void 0:i.getFieldsValue())||{},m=(0,n.Z)((0,n.Z)({},_),T),p!=null&&p.current&&(p.current.pageInfo.params=m),c.next=6,S((0,n.Z)((0,n.Z)({},l),m),u,m);case 6:return c.abrupt("return",c.sent);case 7:case"end":return c.stop()}},e)}));return function(e,l){return t.apply(this,arguments)}}(),[p,S]);return(0,o.jsxs)("div",{"data-inspector-line":"253","data-inspector-column":"4","data-inspector-relative-path":"src/components/RhTable/index.tsx",className:"rh-table",children:[V.length>0&&(0,o.jsx)(I.Z,{"data-inspector-line":"255","data-inspector-column":"8","data-inspector-relative-path":"src/components/RhTable/index.tsx",className:"rh-table-query-filter-form",layoutType:"QueryFilter",span:4,submitter:!1,formRef:k,columns:V,onValuesChange:b}),G.length>0&&(0,o.jsx)(s.Z,{"data-inspector-line":"267","data-inspector-column":"8","data-inspector-relative-path":"src/components/RhTable/index.tsx",className:"rh-table-light-filter-form",formRef:N,onFinish:b,children:G.map(function(t){return te(t)})}),(0,o.jsx)(h.ZP,(0,n.Z)((0,n.Z)({"data-inspector-line":"278","data-inspector-column":"6","data-inspector-relative-path":"src/components/RhTable/index.tsx"},w),{},{actionRef:p,columns:A,search:!1,toolBarRender:!1,request:re}))]})};D.Z=J},32858:function(Y,D,r){"use strict";r.r(D);var B=r(68699),n=r(94043),x=r.n(n),Z=r(23314),O=r(79416),j=r(67294),f=r(85893),K=[{title:"\u6807\u9898",dataIndex:"title",ellipsis:!0,filterType:"query",tip:"\u6807\u9898\u8FC7\u957F\u4F1A\u81EA\u52A8\u6536\u7F29"},{title:"\u72B6\u6001",dataIndex:"state",valueType:"select",hideInSearch:!0,valueEnum:{all:"\u5168\u90E8",open:"\u672A\u89E3\u51B3",closed:"\u5DF2\u89E3\u51B3",processing:"\u89E3\u51B3\u4E2D"}},{title:"\u521B\u5EFA\u65F6\u95F4",key:"showTime",filterType:"query",dataIndex:"created_at",valueType:"dateTime",hideInSearch:!0},{title:"\u64CD\u4F5C",valueType:"option",render:function(y,v,I,s){return[(0,f.jsx)("a",{"data-inspector-line":"39","data-inspector-column":"6","data-inspector-relative-path":"src/pages/table/simple.tsx",onClick:function(){var E;s==null||(E=s.startEditable)===null||E===void 0||E.call(s,v.id)},children:"\u7F16\u8F91"},"editable"),(0,f.jsx)("a",{"data-inspector-line":"47","data-inspector-column":"6","data-inspector-relative-path":"src/pages/table/simple.tsx",href:v.url,target:"_blank",rel:"noopener noreferrer",children:"\u67E5\u770B"},"view")]}}];D.default=function(g){var y=j.useRef();return(0,f.jsx)(O.ZP,{"data-inspector-line":"57","data-inspector-column":"4","data-inspector-relative-path":"src/pages/table/simple.tsx",fixedHeader:!0,affixProps:{offsetTop:48,children:null},header:{title:g.route.name,breadcrumb:{},extra:[]},children:(0,f.jsx)(Z.Z,{"data-inspector-line":"66","data-inspector-column":"6","data-inspector-relative-path":"src/pages/table/simple.tsx",rowKey:"id",columns:K,actionRef:y,pagination:{pageSize:10},request:(0,B.Z)(x().mark(function v(){var I,s,h=arguments;return x().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return I=h.length>0&&h[0]!==void 0?h[0]:{},a.next=3,fetch("https://proapi.azurewebsites.net/github/issues").then(function(o){return o.json()});case 3:return s=a.sent,a.abrupt("return",{data:s.data,success:!0});case 5:case"end":return a.stop()}},v)}))})})}}}]);
